<script>
  export let text;
  export let ariaLabel = 'Share on Viber';
  let classes = '';

  export { classes as class };

  import ShareButton from './ShareButton.svelte';
  let href;
  
  $: href = encodeURI(`viber://forward?text=${text}`);
</script>

<style>
:global(.ssbc-button--viber) {
  background-color: #ae9ef4;
}

:global(.ssbc-button--viber:active),
:global(.ssbc-button--viber:hover) {
  background-color: #7360f2;
}
</style>

<ShareButton class="ssbc-button--viber {classes}" {...$$restProps} {ariaLabel} {href}>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M 20.813 2.337 C 20.218 1.789 17.808 0.04 12.437 0.017 C 12.437 0.017 6.105 -0.363 3.021 2.468 C 1.305 4.183 0.701 6.701 0.635 9.817 C 0.569 12.934 0.49 18.774 6.119 20.359 L 6.124 20.359 L 6.119 22.777 C 6.119 22.777 6.082 23.757 6.729 23.954 C 7.506 24.196 7.966 23.452 8.711 22.651 C 9.119 22.209 9.681 21.563 10.107 21.071 C 13.96 21.394 16.918 20.653 17.255 20.545 C 18.033 20.293 22.435 19.73 23.148 13.891 C 23.887 7.863 22.791 4.057 20.813 2.337 Z M 21.464 13.45 C 20.86 18.324 17.294 18.633 16.637 18.844 C 16.356 18.934 13.755 19.581 10.487 19.369 C 10.487 19.369 8.05 22.309 7.29 23.072 C 7.042 23.321 6.771 23.297 6.776 22.805 C 6.776 22.482 6.794 18.789 6.794 18.789 C 6.789 18.789 6.789 18.789 6.794 18.789 C 2.023 17.467 2.303 12.494 2.356 9.892 C 2.408 7.29 2.899 5.158 4.353 3.724 C 6.962 1.357 12.339 1.709 12.339 1.709 C 16.881 1.727 19.055 3.096 19.561 3.556 C 21.235 4.99 22.088 8.42 21.464 13.45 Z M 14.949 9.663 C 14.969 10.065 14.364 10.095 14.345 9.691 C 14.294 8.659 13.811 8.158 12.816 8.102 C 12.414 8.078 12.451 7.474 12.85 7.498 C 14.157 7.568 14.883 8.318 14.949 9.663 Z M 15.901 10.193 C 15.948 8.205 14.705 6.649 12.348 6.475 C 11.949 6.448 11.991 5.843 12.39 5.872 C 15.109 6.067 16.557 7.937 16.506 10.207 C 16.502 10.609 15.891 10.591 15.901 10.193 Z M 18.104 10.82 C 18.109 11.223 17.499 11.227 17.499 10.824 C 17.471 7.005 14.926 4.924 11.838 4.9 C 11.439 4.896 11.439 4.296 11.838 4.296 C 15.291 4.319 18.071 6.705 18.104 10.82 Z M 17.574 15.418 L 17.574 15.428 C 17.068 16.318 16.122 17.302 15.146 16.989 L 15.137 16.974 C 14.149 16.698 11.819 15.498 10.347 14.326 C 9.588 13.726 8.893 13.019 8.36 12.339 C 7.877 11.734 7.389 11.017 6.916 10.155 C 5.917 8.35 5.698 7.544 5.698 7.544 C 5.383 6.569 6.363 5.622 7.258 5.116 L 7.267 5.116 C 7.698 4.891 8.111 4.966 8.388 5.298 C 8.388 5.298 8.968 5.992 9.217 6.335 C 9.452 6.654 9.765 7.165 9.929 7.451 C 10.215 7.961 10.037 8.481 9.756 8.697 L 9.194 9.147 C 8.908 9.377 8.945 9.804 8.945 9.804 C 8.945 9.804 9.78 12.957 12.896 13.754 C 12.896 13.754 13.322 13.792 13.552 13.506 L 14.003 12.944 C 14.219 12.663 14.738 12.484 15.249 12.77 C 15.938 13.159 16.815 13.764 17.396 14.312 C 17.725 14.58 17.8 14.987 17.574 15.418 Z" />
  </svg>
</ShareButton>